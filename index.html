<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Sujju Gazette</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=IBM+Plex+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Playfair Display', Georgia, serif; background: linear-gradient(to bottom, #fef3e2, #fde8d0); min-height: 100vh; }
    .font-sans { font-family: 'IBM Plex Sans', Arial, sans-serif; }
    .screen { display: none; min-height: 100vh; padding: 20px; }
    .screen.active { display: flex; flex-direction: column; align-items: center; justify-content: center; }
    
    /* Animations */
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.03); } }
    @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
    @keyframes popIn { 0% { transform: scale(0.8); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
    @keyframes wiggle { 0%, 100% { transform: rotate(-1deg); } 50% { transform: rotate(1deg); } }
    @keyframes heartBeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
    @keyframes confettiFall { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(400px) rotate(720deg); opacity: 0; } }
    
    .animate-fadeInUp { animation: fadeInUp 0.6s ease-out forwards; }
    .animate-fadeIn { animation: fadeIn 0.8s ease-out forwards; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse { animation: pulse 2s ease-in-out infinite; }
    .animate-popIn { animation: popIn 0.3s ease-out forwards; }
    .animate-heartBeat { animation: heartBeat 1.5s ease-in-out infinite; }
    
    .btn { background: linear-gradient(90deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%); background-size: 200% 100%; animation: shimmer 3s infinite; color: #fef3e2; padding: 12px 28px; font-size: 16px; border: none; cursor: pointer; font-family: 'IBM Plex Sans', sans-serif; transition: transform 0.2s; }
    .btn:hover { transform: scale(1.05); }
    
    .photo-frame { border: 2px solid #000; overflow: hidden; transition: transform 0.3s, box-shadow 0.3s; }
    .photo-frame:hover { transform: scale(1.02) rotate(1deg); box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
    .photo-frame img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(100%); }
    
    .strikethrough { position: relative; }
    .strikethrough::after { content: ''; position: absolute; left: 0; top: 50%; width: 100%; height: 2px; background: #000; }
    
    .floating-el { position: absolute; animation: float 3s ease-in-out infinite; opacity: 0.5; }
    
    /* Wordle */
    .wordle-grid { display: grid; grid-template-rows: repeat(6, 1fr); gap: 5px; margin-bottom: 15px; }
    .wordle-row { display: grid; grid-template-columns: repeat(5, 1fr); gap: 5px; }
    .wordle-cell { width: 50px; height: 50px; border: 2px solid #ccc; display: flex; align-items: center; justify-content: center; font-size: 22px; font-weight: bold; text-transform: uppercase; background: #fff; transition: all 0.3s; }
    .wordle-cell.correct { background: #22c55e; color: #fff; border-color: #22c55e; }
    .wordle-cell.present { background: #eab308; color: #fff; border-color: #eab308; }
    .wordle-cell.absent { background: #6b7280; color: #fff; border-color: #6b7280; }
    .wordle-cell.filled { border-color: #666; animation: popIn 0.1s ease-out; }
    .keyboard { display: flex; flex-direction: column; gap: 5px; }
    .keyboard-row { display: flex; justify-content: center; gap: 4px; }
    .key { padding: 10px 12px; background: #e5e5e5; border: none; border-radius: 4px; font-weight: bold; cursor: pointer; font-size: 14px; transition: all 0.1s; }
    .key:hover { background: #d0d0d0; transform: scale(1.1); }
    .key.wide { padding: 10px 15px; font-size: 11px; }
    
    /* Connections */
    .connections-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; max-width: 400px; margin-bottom: 15px; }
    .conn-tile { padding: 12px 8px; background: #fff; border: 2px solid #ccc; font-size: 11px; font-weight: bold; text-align: center; cursor: pointer; transition: all 0.2s; min-height: 50px; display: flex; align-items: center; justify-content: center; }
    .conn-tile:hover { border-color: #666; transform: scale(1.03); }
    .conn-tile.selected { background: #374151; color: #fff; border-color: #374151; }
    .solved-group { padding: 12px; border-radius: 6px; text-align: center; margin-bottom: 8px; animation: popIn 0.3s ease-out; }
    .solved-group.yellow { background: #facc15; }
    .solved-group.blue { background: #60a5fa; }
    .solved-group.green { background: #22c55e; }
    .solved-group.purple { background: #a855f7; }
    
    /* Crossword */
    .crossword-container { display: flex; flex-direction: column; align-items: center; gap: 20px; }
    @media (min-width: 800px) { .crossword-container { flex-direction: row; align-items: flex-start; } }
    .crossword-grid { display: grid; gap: 1px; background: #000; padding: 1px; }
    .cross-cell { width: 26px; height: 26px; background: #fff; position: relative; }
    .cross-cell.black { background: #1a1a1a; }
    .cross-cell input { width: 100%; height: 100%; border: none; text-align: center; font-weight: bold; font-size: 14px; text-transform: uppercase; background: transparent; }
    .cross-cell input:focus { outline: 2px solid #3b82f6; }
    .cross-cell .num { position: absolute; top: 1px; left: 2px; font-size: 9px; line-height: 1; }
    .cross-cell.correct input { color: #22c55e; }
    .clues { font-size: 13px; max-width: 280px; }
    .clues h4 { font-size: 16px; margin-bottom: 8px; }
    .clues p { margin-bottom: 6px; line-height: 1.4; }
    
    /* Letter */
    .letter-container { max-width: 600px; border-top: 2px solid #000; border-bottom: 2px solid #000; padding: 30px 0; margin-top: 20px; }
    .letter-container p { margin-bottom: 16px; line-height: 1.7; font-size: 15px; }
    
    /* Confetti */
    .confetti { position: fixed; width: 10px; height: 10px; top: -10px; animation: confettiFall 3s ease-out forwards; pointer-events: none; z-index: 1000; }
  </style>
</head>
<body>

<!-- LANDING -->
<div id="landing" class="screen active">
  <div class="floating-el" style="top: 10%; left: 8%; font-size: 24px;">âœ§</div>
  <div class="floating-el" style="top: 15%; right: 12%; font-size: 18px; animation-delay: 0.5s;">â™¡</div>
  <div class="floating-el" style="bottom: 15%; left: 10%; font-size: 20px; animation-delay: 1s;">âœ¦</div>
  <div class="floating-el" style="bottom: 10%; right: 8%; font-size: 16px; animation-delay: 1.5s;">âœ§</div>
  
  <div style="text-align: center; max-width: 400px;">
    <p class="font-sans animate-fadeIn" style="font-size: 11px; letter-spacing: 3px; margin-bottom: 12px;">âœ¦ SPECIAL BIRTHDAY EDITION âœ¦</p>
    <h1 class="strikethrough animate-fadeIn" style="font-size: 28px; margin-bottom: 4px; animation-delay: 0.2s;">The New York Times</h1>
    <h1 class="animate-fadeInUp" style="font-size: 36px; margin-bottom: 12px; animation-delay: 0.4s;">The Sujju Gazette</h1>
    <div class="animate-fadeIn" style="height: 1px; background: #000; margin-bottom: 12px; animation-delay: 0.6s;"></div>
    <p class="font-sans animate-fadeIn" style="font-size: 12px; margin-bottom: 20px; animation-delay: 0.8s;">FEBRUARY 12, 2025 â€” CELEBRATING SRUJANA RACHURI</p>
    
    <div class="photo-frame animate-fadeInUp" style="width: 200px; height: 260px; margin: 0 auto 20px; animation-delay: 1s;">
      <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/landing.jpg" alt="Srujana">
    </div>
    
    <p class="animate-fadeIn" style="font-style: italic; margin-bottom: 20px; animation-delay: 1.2s;">"Sujjulala, Sujju, Rachuri, and the love of my life"</p>
    
    <button class="btn animate-fadeInUp animate-pulse" style="animation-delay: 1.4s;" onclick="goTo('wordle')">BEGIN THE GAMES âœ¦</button>
  </div>
</div>

<!-- WORDLE -->
<div id="wordle" class="screen">
  <h2 class="animate-fadeInUp" style="font-size: 32px; margin-bottom: 8px;">Wordle</h2>
  <p class="font-sans animate-fadeIn" style="font-size: 14px; color: #666; margin-bottom: 8px;">Guess the 5-letter word</p>
  <p id="wordle-hint" class="animate-fadeIn" style="font-style: italic; font-size: 14px; margin-bottom: 15px; display: none;">Hint: International Udupi</p>
  
  <div id="wordle-grid" class="wordle-grid"></div>
  
  <div id="wordle-keyboard" class="keyboard"></div>
  
  <div id="wordle-result" style="text-align: center; margin-top: 20px; display: none;">
    <p style="font-size: 24px; margin-bottom: 8px;"></p>
    <p style="font-size: 14px; font-style: italic; color: #666; margin-bottom: 15px;">International Udupi, indeed. âœ¨</p>
    <button class="btn" onclick="goTo('photo1')">Continue â†’</button>
  </div>
</div>

<!-- PHOTO 1 -->
<div id="photo1" class="screen">
  <div class="photo-frame animate-fadeInUp" style="width: 280px; height: 360px;">
    <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/wordle.jpg" alt="">
  </div>
  <button class="btn" style="margin-top: 25px;" onclick="goTo('connections')">Continue â†’</button>
</div>

<!-- CONNECTIONS -->
<div id="connections" class="screen">
  <h2 class="animate-fadeInUp" style="font-size: 32px; margin-bottom: 8px;">Connections</h2>
  <p class="font-sans animate-fadeIn" style="font-size: 14px; color: #666; margin-bottom: 8px;">Find four groups of four</p>
  <div id="conn-mistakes" style="display: flex; gap: 5px; margin-bottom: 15px;"></div>
  
  <div id="conn-solved"></div>
  <div id="conn-grid" class="connections-grid"></div>
  
  <div id="conn-buttons" style="display: flex; gap: 10px; margin-top: 10px;">
    <button class="btn" style="background: #fff; color: #000; border: 1px solid #000;" onclick="connShuffle()">Shuffle</button>
    <button class="btn" style="background: #fff; color: #000; border: 1px solid #000;" onclick="connClear()">Clear</button>
    <button class="btn" onclick="connSubmit()">Submit</button>
  </div>
  
  <div id="conn-result" style="text-align: center; margin-top: 20px; display: none;">
    <p style="font-size: 24px; margin-bottom: 15px;"></p>
    <button class="btn" onclick="goTo('photo2')">Continue â†’</button>
  </div>
</div>

<!-- PHOTO 2 -->
<div id="photo2" class="screen">
  <div class="photo-frame animate-fadeInUp" style="width: 280px; height: 360px;">
    <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/connections.jpg" alt="">
  </div>
  <button class="btn" style="margin-top: 25px;" onclick="goTo('crossword')">Continue â†’</button>
</div>

<!-- CROSSWORD -->
<div id="crossword" class="screen" style="justify-content: flex-start; padding-top: 30px;">
  <h2 class="animate-fadeInUp" style="font-size: 32px; margin-bottom: 8px;">Crossword</h2>
  <p class="font-sans animate-fadeIn" style="font-size: 14px; color: #666; margin-bottom: 20px;">All about Sujju âœ¨</p>
  
  <div class="crossword-container">
    <div id="cross-grid" class="crossword-grid"></div>
    <div class="clues">
      <div style="margin-bottom: 20px;">
        <h4>Across</h4>
        <p><strong>1.</strong> Her eternal nemesis in beverage form</p>
        <p><strong>5.</strong> SPF? Never heard of her</p>
        <p><strong>7.</strong> "So... neglected hot coffee?"</p>
        <p><strong>9.</strong> The Abu Dhabi airport heartbreak</p>
        <p><strong>11.</strong> The contested "first meeting"</p>
      </div>
      <div>
        <h4>Down</h4>
        <p><strong>2.</strong> The annual ritual, August edition, ITC</p>
        <p><strong>3.</strong> Third wheel, professional grade</p>
        <p><strong>4.</strong> â‚¹10 and a dream</p>
        <p><strong>6.</strong> First time screaming in a crowd, together, in the rain</p>
        <p><strong>8.</strong> It's a loser's choice, but I secretly love it</p>
        <p><strong>10.</strong> Hum ne toh jab, kaliyan maangi</p>
      </div>
    </div>
  </div>
  
  <button class="btn" style="margin-top: 25px;" onclick="goTo('photo3')">Continue to Letter â†’</button>
</div>

<!-- PHOTO 3 -->
<div id="photo3" class="screen">
  <div class="photo-frame animate-fadeInUp" style="width: 280px; height: 360px;">
    <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/ITC.jpg" alt="">
  </div>
  <button class="btn" style="margin-top: 25px;" onclick="goTo('letter')">Continue â†’</button>
</div>

<!-- LETTER -->
<div id="letter" class="screen" style="justify-content: flex-start; padding: 40px 20px;">
  <div style="display: flex; gap: 15px; margin-bottom: 10px;">
    <div class="photo-frame" style="width: 150px; height: 190px;">
      <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/throwback.jpg" alt="2016">
    </div>
    <div class="photo-frame" style="width: 150px; height: 190px;">
      <img src="https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/stairs.jpg" alt="Now">
    </div>
  </div>
  
  <div class="letter-container">
    <h2 style="text-align: center; font-size: 26px; margin-bottom: 25px;">A Letter for You</h2>
    
    <p><strong style="font-size: 18px;">Srujana,</strong></p>
    
    <p>Writing a letter for you is the most humiliating process. I cannot write like you do, I cannot express the way you can, I cannot process my thoughts into words that beautifully come together the way you manage to do so effortlessly. What can I do then except be intentional. So that's what this is. An intentional note that hopefully tells you how incomplete my life has been without you in it.</p>
    
    <p>Papa, any big, important, life-changing moments that have ever happened, has always had you around ready for me like one warm blanket to hide inside when things feel too scary. And when I was thinking of suitable examples, the first memory that pops up is when on a rainy, shitty day in Bangalore, I came home to you right after therapy. I had spoken to Bandita about how someone in office told me, "You always look like you're on the verge of tears". This was just after someone asked me what my name was, and I barely managed to whisper "Saranya". I felt so ashamed of not even being able to say my name with confidence. And then I came home to you, and you were just wrapping up some work. I plopped myself on the sofa, looking for songs to play. But I could barely contain myself, I just wanted to cry. And then, you finished work and came out of the room in tears. I don't even remember what had happened, but all I wanted was to cry with you. Srujana, I have no bigger relief than in being able to cry with you. And then of course, say "fine" a million times not fully convinced anything is ever fine.</p>
    
    <p>I keep wanting to be in two places at once. I can be in a new city, a new cafÃ©, surrounded by new people, doing all the right things and still, all I want is to be with you, at home, drinking shitty chai and not needing anything else (other than a cigarette, maybe).</p>
    
    <p>I once read an astronaut write about how when she was on Earth, she longed for space, and when she was finally there, she only wanted to come back home. That kind of longing made sense to me immediately. Desire is so strange bro, it convinces us to chase distance, until we realise what we were really tethered to.</p>
    
    <p>Home, for me, was never a place. It has always been you papa. It's the ease of being with you, the quiet understanding, the way the world feels less demanding when we're together.</p>
    
    <p>Now, in this cold, grey city of London, I walk around feeling slightly (very) misplaced, carrying this constant heaviness of wanting to return not to a city or a room, but to us. And while you may think that this is a stretch, I will see you in a week with receipts from endless texts to others about how earnestly I feel about this.</p>
    
    <p>I came across this poem a while back, and when I sit to think of what I want to say to you, I thought this deserved a call back. It talks about carrying things long after we are told we should have outgrown them. A random girl who I thought was my best friend in school once told me "you breath so loudly, it's very irritating" and believe me when I say it, I have ever since been painfully aware of the way I breathe. Surviving doesn't always look brave, sometimes it just looks like getting through the day without hardening. I see that kind of survival in you. In the way you learned to keep going without losing your softness. In the way we still feel things deeply, even when it would be easier not to. And the best part is, you've always understood that about me - that I don't want to be made tougher, I just want to be made steady. With you, I don't have to pretend I've moved on from the parts of me that still annoy. I don't have to explain why certain days feel heavier, or why distance feels louder than it should. You've never asked me to be less sensitive, less emotional, less lonely. And that, more than anything, is why being away from you feels like carrying my heart outside my body.</p>
    
    <p>Which is why, I firmly believe that we are in need or urgent fixing and I am just glad Harshita is getting married so I have an early excuse to come home. More than anything, there's a lightness in knowing that in a week, distance will stop being theoretical and start being reachable. That I'll get to sit across from you, steal your time, and let my nervous system remember what safety feels like. I can't wait to sing again with you; it will do a lot more fixing than anything else ever really can. So in ten days exactly, be ready to belt Aji Rooth Kar again, badly and unapologetically. Until then, happy birthday, Rachuri. Peace out.</p>
    
    <p style="margin-top: 30px;">Lots of love,<br><strong>Shanpa</strong></p>
  </div>
  
  <p class="animate-heartBeat" style="font-size: 24px; margin-top: 30px; text-align: center;">Happy Birthday, Sujju â™¡</p>
  <p style="font-size: 13px; color: #888; margin-top: 10px;">Made with love from London</p>
</div>

<script>
// Navigation
function goTo(screenId) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(screenId).classList.add('active');
  window.scrollTo(0, 0);
  
  if (screenId === 'wordle') initWordle();
  if (screenId === 'connections') initConnections();
  if (screenId === 'crossword') initCrossword();
}

// Confetti
function spawnConfetti() {
  const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#DDA0DD'];
  for (let i = 0; i < 50; i++) {
    const conf = document.createElement('div');
    conf.className = 'confetti';
    conf.style.left = Math.random() * 100 + '%';
    conf.style.background = colors[Math.floor(Math.random() * colors.length)];
    conf.style.animationDelay = Math.random() * 2 + 's';
    conf.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 4000);
  }
}

// ===== WORDLE =====
const WORDLE_ANSWER = 'PARIS';
let wordleGuesses = [];
let wordleCurrent = '';
let wordleGameOver = false;

function initWordle() {
  wordleGuesses = [];
  wordleCurrent = '';
  wordleGameOver = false;
  renderWordleGrid();
  renderWordleKeyboard();
  document.getElementById('wordle-result').style.display = 'none';
  document.getElementById('wordle-hint').style.display = 'none';
  document.getElementById('wordle-keyboard').style.display = 'flex';
}

function renderWordleGrid() {
  const grid = document.getElementById('wordle-grid');
  grid.innerHTML = '';
  for (let r = 0; r < 6; r++) {
    const row = document.createElement('div');
    row.className = 'wordle-row';
    for (let c = 0; c < 5; c++) {
      const cell = document.createElement('div');
      cell.className = 'wordle-cell';
      cell.id = `wc-${r}-${c}`;
      
      if (r < wordleGuesses.length) {
        const letter = wordleGuesses[r][c];
        cell.textContent = letter;
        if (WORDLE_ANSWER[c] === letter) cell.classList.add('correct');
        else if (WORDLE_ANSWER.includes(letter)) cell.classList.add('present');
        else cell.classList.add('absent');
      } else if (r === wordleGuesses.length && c < wordleCurrent.length) {
        cell.textContent = wordleCurrent[c];
        cell.classList.add('filled');
      }
      row.appendChild(cell);
    }
    grid.appendChild(row);
  }
}

function renderWordleKeyboard() {
  const kb = document.getElementById('wordle-keyboard');
  kb.innerHTML = '';
  const rows = ['QWERTYUIOP', 'ASDFGHJKL', 'ZXCVBNM'];
  rows.forEach((row, i) => {
    const rowDiv = document.createElement('div');
    rowDiv.className = 'keyboard-row';
    if (i === 2) {
      const enter = document.createElement('button');
      enter.className = 'key wide';
      enter.textContent = 'ENTER';
      enter.onclick = () => wordleKey('ENTER');
      rowDiv.appendChild(enter);
    }
    row.split('').forEach(k => {
      const key = document.createElement('button');
      key.className = 'key';
      key.textContent = k;
      key.onclick = () => wordleKey(k);
      rowDiv.appendChild(key);
    });
    if (i === 2) {
      const del = document.createElement('button');
      del.className = 'key wide';
      del.textContent = 'DEL';
      del.onclick = () => wordleKey('DEL');
      rowDiv.appendChild(del);
    }
    kb.appendChild(rowDiv);
  });
}

function wordleKey(key) {
  if (wordleGameOver) return;
  if (key === 'ENTER' && wordleCurrent.length === 5) {
    wordleGuesses.push(wordleCurrent);
    if (wordleCurrent === WORDLE_ANSWER) {
      wordleGameOver = true;
      renderWordleGrid();
      spawnConfetti();
      document.getElementById('wordle-keyboard').style.display = 'none';
      const result = document.getElementById('wordle-result');
      result.style.display = 'block';
      result.querySelector('p').textContent = 'ðŸŽ‰ Brilliant!';
    } else if (wordleGuesses.length >= 6) {
      wordleGameOver = true;
      renderWordleGrid();
      document.getElementById('wordle-keyboard').style.display = 'none';
      const result = document.getElementById('wordle-result');
      result.style.display = 'block';
      result.querySelector('p').textContent = 'The word was ' + WORDLE_ANSWER;
    } else {
      wordleCurrent = '';
      renderWordleGrid();
      if (wordleGuesses.length >= 2) document.getElementById('wordle-hint').style.display = 'block';
    }
  } else if (key === 'DEL') {
    wordleCurrent = wordleCurrent.slice(0, -1);
    renderWordleGrid();
  } else if (wordleCurrent.length < 5 && /^[A-Z]$/.test(key)) {
    wordleCurrent += key;
    renderWordleGrid();
  }
}

document.addEventListener('keydown', e => {
  if (!document.getElementById('wordle').classList.contains('active')) return;
  if (e.key === 'Enter') wordleKey('ENTER');
  else if (e.key === 'Backspace') wordleKey('DEL');
  else if (/^[a-zA-Z]$/.test(e.key)) wordleKey(e.key.toUpperCase());
});

// ===== CONNECTIONS =====
const CONN_CATEGORIES = [
  { name: 'Foods that will always be our thing', words: ['PEANUT PODI', 'COFFEE', 'ALOO PARATHA', 'ALOO FRY'], color: 'yellow' },
  { name: 'Rangeen shaam, Bangalore ke naam', words: ['LAVONNE', 'ITC', 'NERLU', 'SODA BOTTLE'], color: 'blue' },
  { name: 'Places we made "our home"', words: ['HAPPY HOMES', 'DODDA BANASWADI', 'INDIRANAGAR-ISH', 'WHITEFIELD'], color: 'green' },
  { name: 'Personality-defining things she loves', words: ['CATS', 'AGATHA CHRISTIE', 'SRK', 'HARRY POTTER'], color: 'purple' },
];
let connWords = [];
let connSelected = [];
let connSolved = [];
let connMistakes = 0;

function initConnections() {
  connWords = CONN_CATEGORIES.flatMap(c => c.words).sort(() => Math.random() - 0.5);
  connSelected = [];
  connSolved = [];
  connMistakes = 0;
  renderConnections();
  document.getElementById('conn-result').style.display = 'none';
  document.getElementById('conn-buttons').style.display = 'flex';
}

function renderConnections() {
  // Mistakes
  const mist = document.getElementById('conn-mistakes');
  mist.innerHTML = '';
  for (let i = 0; i < 4; i++) {
    const dot = document.createElement('div');
    dot.style.cssText = `width: 12px; height: 12px; border-radius: 50%; background: ${i < connMistakes ? '#ef4444' : '#d1d5db'}; transition: background 0.3s;`;
    mist.appendChild(dot);
  }
  
  // Solved
  const solvedDiv = document.getElementById('conn-solved');
  solvedDiv.innerHTML = '';
  connSolved.forEach(cat => {
    const div = document.createElement('div');
    div.className = `solved-group ${cat.color}`;
    div.innerHTML = `<strong style="font-size: 13px;">${cat.name}</strong><br><span style="font-size: 11px;">${cat.words.join(' â€¢ ')}</span>`;
    solvedDiv.appendChild(div);
  });
  
  // Grid
  const grid = document.getElementById('conn-grid');
  grid.innerHTML = '';
  const remaining = connWords.filter(w => !connSolved.some(c => c.words.includes(w)));
  remaining.forEach(word => {
    const tile = document.createElement('div');
    tile.className = 'conn-tile' + (connSelected.includes(word) ? ' selected' : '');
    tile.textContent = word;
    tile.onclick = () => connSelect(word);
    grid.appendChild(tile);
  });
  
  if (connSolved.length === 4) {
    document.getElementById('conn-buttons').style.display = 'none';
    const result = document.getElementById('conn-result');
    result.style.display = 'block';
    result.querySelector('p').textContent = 'ðŸŽ‰ Perfect!';
    spawnConfetti();
  }
}

function connSelect(word) {
  if (connSelected.includes(word)) {
    connSelected = connSelected.filter(w => w !== word);
  } else if (connSelected.length < 4) {
    connSelected.push(word);
  }
  renderConnections();
}

function connShuffle() {
  const remaining = connWords.filter(w => !connSolved.some(c => c.words.includes(w)));
  connWords = [...connSolved.flatMap(c => c.words), ...remaining.sort(() => Math.random() - 0.5)];
  renderConnections();
}

function connClear() {
  connSelected = [];
  renderConnections();
}

function connSubmit() {
  if (connSelected.length !== 4) return;
  const match = CONN_CATEGORIES.find(c => c.words.every(w => connSelected.includes(w)) && !connSolved.includes(c));
  if (match) {
    connSolved.push(match);
    connSelected = [];
  } else {
    connMistakes++;
    if (connMistakes >= 4) {
      document.getElementById('conn-buttons').style.display = 'none';
      const result = document.getElementById('conn-result');
      result.style.display = 'block';
      result.querySelector('p').textContent = 'Nice try! ðŸ’›';
    }
  }
  renderConnections();
}

// ===== CROSSWORD =====
const CROSS_CLUES = {
  across: [
    { num: 1, answer: 'CHAI', row: 0, col: 0 },
    { num: 5, answer: 'SUNSCREEN', row: 2, col: 0 },
    { num: 7, answer: 'ICEDCOFFEE', row: 4, col: 0 },
    { num: 9, answer: 'OMANCHIPS', row: 6, col: 1 },
    { num: 11, answer: 'GVM', row: 8, col: 3 },
  ],
  down: [
    { num: 2, answer: 'OMSHANTOM', row: 0, col: 2 },
    { num: 3, answer: 'VEEKSHITH', row: 0, col: 6 },
    { num: 4, answer: 'BREADPAKODA', row: 1, col: 4 },
    { num: 6, answer: 'PENNMASALA', row: 2, col: 8 },
    { num: 8, answer: 'MINTCHIP', row: 5, col: 0 },
    { num: 10, answer: 'PYAASA', row: 6, col: 5 },
  ],
};
let crossCells = {};

function initCrossword() {
  crossCells = {};
  [...CROSS_CLUES.across, ...CROSS_CLUES.down].forEach(clue => {
    const isAcross = CROSS_CLUES.across.includes(clue);
    for (let i = 0; i < clue.answer.length; i++) {
      const r = isAcross ? clue.row : clue.row + i;
      const c = isAcross ? clue.col + i : clue.col;
      const key = `${r}-${c}`;
      if (!crossCells[key]) crossCells[key] = { letter: clue.answer[i], num: null };
      if (i === 0 && !crossCells[key].num) crossCells[key].num = clue.num;
    }
  });
  renderCrossword();
}

function renderCrossword() {
  const grid = document.getElementById('cross-grid');
  grid.innerHTML = '';
  grid.style.gridTemplateColumns = 'repeat(12, 26px)';
  
  for (let r = 0; r < 12; r++) {
    for (let c = 0; c < 12; c++) {
      const key = `${r}-${c}`;
      const cell = document.createElement('div');
      cell.className = 'cross-cell';
      
      if (crossCells[key]) {
        if (crossCells[key].num) {
          const num = document.createElement('span');
          num.className = 'num';
          num.textContent = crossCells[key].num;
          cell.appendChild(num);
        }
        const input = document.createElement('input');
        input.type = 'text';
        input.maxLength = 1;
        input.dataset.key = key;
        input.oninput = (e) => {
          e.target.value = e.target.value.toUpperCase();
          if (e.target.value === crossCells[key].letter) {
            cell.classList.add('correct');
          }
        };
        cell.appendChild(input);
      } else {
        cell.classList.add('black');
      }
      grid.appendChild(cell);
    }
  }
}

// Initialize on load
initWordle();
</script>

</body>
</html>
