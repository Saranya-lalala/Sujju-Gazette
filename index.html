<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Sujju Gazette</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=IBM+Plex+Sans:wght@400;600&display=swap');
    
    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Playfair Display', Georgia, serif; background: #fef3e2; }
    .font-serif { font-family: 'Playfair Display', Georgia, serif; }
    .font-sans { font-family: 'IBM Plex Sans', Arial, sans-serif; }
    
    /* Animations */
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }
    @keyframes wiggle {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }
    @keyframes popIn {
      0% { transform: scale(0); opacity: 0; }
      70% { transform: scale(1.1); }
      100% { transform: scale(1); opacity: 1; }
    }
    @keyframes slideInLeft {
      from { opacity: 0; transform: translateX(-50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.1); }
    }
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-100px) rotate(720deg); opacity: 0; }
    }
    @keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }
    @keyframes blink {
      50% { border-color: transparent; }
    }
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 5px rgba(0,0,0,0.1); }
      50% { box-shadow: 0 0 20px rgba(0,0,0,0.2); }
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    .animate-fadeInUp { animation: fadeInUp 0.8s ease-out forwards; }
    .animate-fadeIn { animation: fadeIn 1s ease-out forwards; }
    .animate-float { animation: float 3s ease-in-out infinite; }
    .animate-pulse-slow { animation: pulse 2s ease-in-out infinite; }
    .animate-wiggle { animation: wiggle 0.5s ease-in-out infinite; }
    .animate-popIn { animation: popIn 0.4s ease-out forwards; }
    .animate-slideInLeft { animation: slideInLeft 0.6s ease-out forwards; }
    .animate-slideInRight { animation: slideInRight 0.6s ease-out forwards; }
    .animate-heartBeat { animation: heartBeat 1.5s ease-in-out infinite; }
    .animate-glow { animation: glow 2s ease-in-out infinite; }
    
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    .delay-400 { animation-delay: 0.4s; }
    .delay-500 { animation-delay: 0.5s; }
    
    .shimmer-btn {
      background: linear-gradient(90deg, #1a1a1a 0%, #333 50%, #1a1a1a 100%);
      background-size: 200% 100%;
      animation: shimmer 2s infinite;
    }
    
    .photo-frame {
      transition: all 0.3s ease;
    }
    .photo-frame:hover {
      transform: scale(1.02) rotate(1deg);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    .tile-flip {
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    .tile-flip:hover {
      transform: scale(1.05);
    }
    
    .letter-paragraph {
      opacity: 0;
      animation: fadeInUp 0.8s ease-out forwards;
    }
    
    .confetti-piece {
      position: fixed;
      animation: confetti 3s ease-out forwards;
      pointer-events: none;
      z-index: 1000;
    }
    
    .strikethrough {
      position: relative;
    }
    .strikethrough::after {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      width: 100%;
      height: 3px;
      background: black;
      animation: typewriter 1s ease-out forwards;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    const IMAGES = {
      landing: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/landing',
      afterWordle: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/wordle',
      afterConnections: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/connections',
      afterCrossword: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/ITC%20-%20crossword',
      letterOld: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/throwback',
      letterNew: 'https://raw.githubusercontent.com/Saranya-lalala/Sujju-Gazette/main/stairs',
    };

    // Confetti component
    const Confetti = ({ count = 50 }) => {
      const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD', '#98D8C8'];
      const pieces = Array.from({ length: count }, (_, i) => ({
        id: i,
        left: Math.random() * 100,
        delay: Math.random() * 2,
        color: colors[Math.floor(Math.random() * colors.length)],
        size: Math.random() * 10 + 5,
      }));
      
      return (
        <div className="fixed inset-0 pointer-events-none overflow-hidden z-50">
          {pieces.map(p => (
            <div
              key={p.id}
              className="confetti-piece"
              style={{
                left: `${p.left}%`,
                top: '100%',
                width: p.size,
                height: p.size,
                backgroundColor: p.color,
                borderRadius: Math.random() > 0.5 ? '50%' : '0',
                animationDelay: `${p.delay}s`,
              }}
            />
          ))}
        </div>
      );
    };

    // Landing Page
    const LandingPage = ({ onStart }) => {
      const [loaded, setLoaded] = useState(false);
      useEffect(() => { setTimeout(() => setLoaded(true), 100); }, []);

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 flex flex-col items-center justify-center p-6 text-center overflow-hidden">
          <div className={`max-w-lg transition-all duration-1000 ${loaded ? 'opacity-100' : 'opacity-0'}`}>
            <p className="text-xs tracking-widest mb-3 font-sans animate-fadeIn" style={{animationDelay: '0.2s', opacity: 0, animationFillMode: 'forwards'}}>
              âœ¦ SPECIAL BIRTHDAY EDITION âœ¦
            </p>
            
            <div className="relative mb-2">
              <h1 className="text-4xl md:text-5xl font-bold font-serif strikethrough animate-fadeIn" style={{animationDelay: '0.4s', opacity: 0, animationFillMode: 'forwards'}}>
                The New York Times
              </h1>
            </div>
            
            <h1 className="text-5xl md:text-6xl font-bold font-serif mb-4 animate-fadeInUp" style={{animationDelay: '0.8s', opacity: 0, animationFillMode: 'forwards'}}>
              The Sujju Gazette
            </h1>
            
            <div className="w-full h-px bg-black mb-4 animate-fadeIn" style={{animationDelay: '1s', opacity: 0, animationFillMode: 'forwards'}}></div>
            
            <p className="text-sm mb-6 font-sans animate-fadeIn" style={{animationDelay: '1.2s', opacity: 0, animationFillMode: 'forwards'}}>
              FEBRUARY 12, 2025 â€” CELEBRATING SRUJANA RACHURI
            </p>
            
            <div className="w-64 h-80 mx-auto mb-6 bg-gray-100 border-2 border-black overflow-hidden photo-frame animate-fadeInUp animate-glow" style={{animationDelay: '1.4s', opacity: 0, animationFillMode: 'forwards'}}>
              <img src={IMAGES.landing} alt="Srujana" className="w-full h-full object-cover" style={{filter: 'grayscale(100%)'}} />
            </div>
            
            <p className="text-lg italic mb-6 font-serif animate-fadeIn" style={{animationDelay: '1.6s', opacity: 0, animationFillMode: 'forwards'}}>
              "Sujjulala, Sujju, Rachuri, and the love of my life"
            </p>
            
            <button
              onClick={onStart}
              className="shimmer-btn text-amber-50 px-8 py-3 text-lg tracking-wide font-sans rounded-sm hover:scale-105 transition-transform animate-fadeInUp animate-pulse-slow"
              style={{animationDelay: '1.8s', opacity: 0, animationFillMode: 'forwards'}}
            >
              BEGIN THE GAMES âœ¦
            </button>
          </div>
          
          <div className="absolute top-10 left-10 text-4xl animate-float" style={{animationDelay: '0s'}}>âœ§</div>
          <div className="absolute top-20 right-20 text-2xl animate-float" style={{animationDelay: '0.5s'}}>â™¡</div>
          <div className="absolute bottom-20 left-20 text-3xl animate-float" style={{animationDelay: '1s'}}>âœ¦</div>
          <div className="absolute bottom-10 right-10 text-2xl animate-float" style={{animationDelay: '1.5s'}}>âœ§</div>
        </div>
      );
    };

    // Wordle
    const Wordle = ({ onComplete }) => {
      const answer = 'PARIS';
      const [guesses, setGuesses] = useState([]);
      const [current, setCurrent] = useState('');
      const [gameOver, setGameOver] = useState(false);
      const [won, setWon] = useState(false);
      const [showHint, setShowHint] = useState(false);
      const [showConfetti, setShowConfetti] = useState(false);
      const [shake, setShake] = useState(false);

      const handleKey = (key) => {
        if (gameOver) return;
        if (key === 'ENTER' && current.length === 5) {
          const newGuesses = [...guesses, current];
          setGuesses(newGuesses);
          if (current === answer) {
            setWon(true);
            setGameOver(true);
            setShowConfetti(true);
          } else if (newGuesses.length >= 6) {
            setGameOver(true);
          } else {
            setShake(true);
            setTimeout(() => setShake(false), 500);
          }
          setCurrent('');
        } else if (key === 'DEL') {
          setCurrent(c => c.slice(0, -1));
        } else if (current.length < 5 && /^[A-Z]$/.test(key)) {
          setCurrent(c => c + key);
        }
      };

      useEffect(() => {
        const handler = (e) => {
          if (e.key === 'Enter') handleKey('ENTER');
          else if (e.key === 'Backspace') handleKey('DEL');
          else if (/^[a-zA-Z]$/.test(e.key)) handleKey(e.key.toUpperCase());
        };
        window.addEventListener('keydown', handler);
        return () => window.removeEventListener('keydown', handler);
      }, [current, gameOver, guesses]);

      const getColor = (letter, idx, guess) => {
        if (answer[idx] === letter) return 'bg-green-600 text-white border-green-600';
        if (answer.includes(letter)) return 'bg-yellow-500 text-white border-yellow-500';
        return 'bg-gray-500 text-white border-gray-500';
      };

      const keyboard = ['QWERTYUIOP', 'ASDFGHJKL', 'ZXCVBNM'];

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 flex flex-col items-center justify-center p-4">
          {showConfetti && <Confetti />}
          
          <h2 className="text-4xl font-bold mb-2 font-serif animate-fadeInUp">Wordle</h2>
          <p className="text-sm mb-4 text-gray-600 font-sans animate-fadeIn">Guess the 5-letter word</p>
          
          {!showHint && !gameOver && guesses.length >= 2 && (
            <button onClick={() => setShowHint(true)} className="text-sm underline mb-4 text-gray-600 hover:text-black transition animate-pulse-slow">
              âœ¨ Need a hint?
            </button>
          )}
          {showHint && <p className="text-sm italic mb-4 font-serif animate-popIn">Hint: International Udupi</p>}
          
          <div className={`grid grid-rows-6 gap-1 mb-6 ${shake ? 'animate-wiggle' : ''}`}>
            {[...Array(6)].map((_, rowIdx) => (
              <div key={rowIdx} className="grid grid-cols-5 gap-1">
                {[...Array(5)].map((_, colIdx) => {
                  const guess = guesses[rowIdx];
                  const letter = guess ? guess[colIdx] : (rowIdx === guesses.length ? current[colIdx] : '');
                  const isRevealed = !!guess;
                  const colorClass = guess ? getColor(guess[colIdx], colIdx, guess) : 'bg-white border-gray-300';
                  return (
                    <div 
                      key={colIdx} 
                      className={`w-12 h-12 border-2 flex items-center justify-center text-xl font-bold tile-flip ${colorClass} ${letter && !guess ? 'animate-popIn border-gray-500' : ''}`}
                      style={isRevealed ? { animationDelay: `${colIdx * 0.1}s` } : {}}
                    >
                      {letter}
                    </div>
                  );
                })}
              </div>
            ))}
          </div>

          {!gameOver && (
            <div className="flex flex-col items-center gap-1">
              {keyboard.map((row, i) => (
                <div key={i} className="flex gap-1">
                  {i === 2 && (
                    <button onClick={() => handleKey('ENTER')} className="px-2 py-3 bg-gray-300 rounded text-xs font-bold hover:bg-gray-400 transition">
                      ENTER
                    </button>
                  )}
                  {row.split('').map(k => (
                    <button 
                      key={k} 
                      onClick={() => handleKey(k)} 
                      className="w-8 h-10 bg-gray-200 rounded font-bold text-sm hover:bg-gray-300 hover:scale-110 transition-all"
                    >
                      {k}
                    </button>
                  ))}
                  {i === 2 && (
                    <button onClick={() => handleKey('DEL')} className="px-2 py-3 bg-gray-300 rounded text-xs font-bold hover:bg-gray-400 transition">
                      DEL
                    </button>
                  )}
                </div>
              ))}
            </div>
          )}

          {gameOver && (
            <div className="text-center mt-4 animate-fadeInUp">
              <p className="text-2xl mb-2 font-serif">{won ? 'ðŸŽ‰ Brilliant!' : `The word was ${answer}`}</p>
              <p className="text-sm italic text-gray-600 mb-4 font-serif">International Udupi, indeed. âœ¨</p>
              <button 
                onClick={onComplete} 
                className="shimmer-btn text-amber-50 px-6 py-2 font-sans rounded-sm hover:scale-105 transition-transform"
              >
                Continue â†’
              </button>
            </div>
          )}
        </div>
      );
    };

    // Photo Interstitial
    const PhotoPage = ({ imageKey, onContinue }) => {
      const [loaded, setLoaded] = useState(false);
      useEffect(() => { setTimeout(() => setLoaded(true), 100); }, []);

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 flex flex-col items-center justify-center p-6">
          <div className={`w-72 h-96 bg-gray-100 border-2 border-black overflow-hidden photo-frame transition-all duration-700 ${loaded ? 'opacity-100 scale-100' : 'opacity-0 scale-95'}`}>
            <img src={IMAGES[imageKey]} alt="" className="w-full h-full object-cover" style={{filter: 'grayscale(100%)'}} />
          </div>
          <button 
            onClick={onContinue} 
            className={`mt-6 shimmer-btn text-amber-50 px-6 py-2 font-sans rounded-sm hover:scale-105 transition-all duration-500 ${loaded ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`}
            style={{transitionDelay: '0.3s'}}
          >
            Continue â†’
          </button>
        </div>
      );
    };

    // Connections
    const Connections = ({ onComplete }) => {
      const categories = [
        { name: 'Foods that will always be our thing', words: ['PEANUT PODI', 'COFFEE', 'ALOO PARATHA', 'ALOO FRY'], color: 'bg-yellow-400' },
        { name: 'Rangeen shaam, Bangalore ke naam', words: ['LAVONNE', 'ITC', 'NERLU', 'SODA BOTTLE'], color: 'bg-blue-400' },
        { name: 'Places we made "our home"', words: ['HAPPY HOMES', 'DODDA BANASWADI', 'INDIRANAGAR-ISH', 'WHITEFIELD'], color: 'bg-green-500' },
        { name: 'Personality-defining things she loves', words: ['CATS', 'AGATHA CHRISTIE', 'SRK', 'HARRY POTTER'], color: 'bg-purple-500' },
      ];

      const allWords = categories.flatMap(c => c.words);
      const [shuffled, setShuffled] = useState([]);
      const [selected, setSelected] = useState([]);
      const [solved, setSolved] = useState([]);
      const [mistakes, setMistakes] = useState(0);
      const [gameOver, setGameOver] = useState(false);
      const [showConfetti, setShowConfetti] = useState(false);
      const [wrongGuess, setWrongGuess] = useState(false);

      useEffect(() => {
        setShuffled([...allWords].sort(() => Math.random() - 0.5));
      }, []);

      const handleSelect = (word) => {
        if (solved.some(c => c.words.includes(word))) return;
        if (selected.includes(word)) {
          setSelected(selected.filter(w => w !== word));
        } else if (selected.length < 4) {
          setSelected([...selected, word]);
        }
      };

      const handleSubmit = () => {
        if (selected.length !== 4) return;
        const match = categories.find(c => 
          c.words.every(w => selected.includes(w)) && !solved.includes(c)
        );
        if (match) {
          const newSolved = [...solved, match];
          setSolved(newSolved);
          setSelected([]);
          if (newSolved.length === 4) {
            setGameOver(true);
            setShowConfetti(true);
          }
        } else {
          setMistakes(m => m + 1);
          setWrongGuess(true);
          setTimeout(() => setWrongGuess(false), 500);
          if (mistakes >= 3) setGameOver(true);
        }
      };

      const remainingWords = shuffled.filter(w => !solved.some(c => c.words.includes(w)));

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 flex flex-col items-center justify-center p-4">
          {showConfetti && <Confetti />}
          
          <h2 className="text-4xl font-bold mb-2 font-serif animate-fadeInUp">Connections</h2>
          <p className="text-sm mb-4 text-gray-600 font-sans animate-fadeIn">Find four groups of four</p>
          
          <div className="flex gap-1 mb-4">
            {[...Array(4)].map((_, i) => (
              <div key={i} className={`w-3 h-3 rounded-full transition-all ${i < mistakes ? 'bg-red-500' : 'bg-gray-300'}`} />
            ))}
          </div>

          <div className="w-full max-w-md">
            {solved.map((cat, i) => (
              <div key={i} className={`${cat.color} p-3 rounded mb-2 text-center animate-popIn`} style={{animationDelay: `${i * 0.1}s`}}>
                <p className="font-bold text-sm">{cat.name}</p>
                <p className="text-xs mt-1">{cat.words.join(' â€¢ ')}</p>
              </div>
            ))}

            <div className={`grid grid-cols-4 gap-2 mb-4 ${wrongGuess ? 'animate-wiggle' : ''}`}>
              {remainingWords.map((word, i) => (
                <button
                  key={word}
                  onClick={() => handleSelect(word)}
                  className={`p-2 text-xs font-bold rounded border-2 transition-all tile-flip ${
                    selected.includes(word) 
                      ? 'bg-gray-700 text-white border-gray-700 scale-95' 
                      : 'bg-white border-gray-300 hover:border-gray-500 hover:shadow-md'
                  }`}
                  style={{minHeight: '55px', animationDelay: `${i * 0.05}s`}}
                >
                  {word}
                </button>
              ))}
            </div>

            {!gameOver && solved.length < 4 && (
              <div className="flex gap-2 justify-center">
                <button 
                  onClick={() => setSelected([])} 
                  className="px-4 py-2 border border-black rounded hover:bg-gray-100 transition font-sans"
                >
                  Clear
                </button>
                <button 
                  onClick={() => setShuffled([...remainingWords].sort(() => Math.random() - 0.5))} 
                  className="px-4 py-2 border border-black rounded hover:bg-gray-100 transition font-sans"
                >
                  Shuffle
                </button>
                <button 
                  onClick={handleSubmit} 
                  disabled={selected.length !== 4} 
                  className="px-4 py-2 bg-black text-white rounded disabled:opacity-30 hover:bg-gray-800 transition font-sans"
                >
                  Submit
                </button>
              </div>
            )}

            {gameOver && (
              <div className="text-center mt-4 animate-fadeInUp">
                <p className="text-2xl mb-4 font-serif">{solved.length === 4 ? 'ðŸŽ‰ Perfect!' : 'Nice try!'}</p>
                <button 
                  onClick={onComplete} 
                  className="shimmer-btn text-amber-50 px-6 py-2 font-sans rounded-sm hover:scale-105 transition-transform"
                >
                  Continue â†’
                </button>
              </div>
            )}
          </div>
        </div>
      );
    };

    // Crossword
    const Crossword = ({ onComplete }) => {
      const clues = {
        across: [
          { num: 1, clue: 'Her eternal nemesis in beverage form', answer: 'CHAI', row: 0, col: 0 },
          { num: 5, clue: 'SPF? Never heard of her', answer: 'SUNSCREEN', row: 2, col: 0 },
          { num: 7, clue: '"So... neglected hot coffee?"', answer: 'ICEDCOFFEE', row: 4, col: 0 },
          { num: 9, clue: 'The Abu Dhabi airport heartbreak', answer: 'OMANCHIPS', row: 6, col: 1 },
          { num: 11, clue: 'The contested "first meeting"', answer: 'GVM', row: 8, col: 3 },
        ],
        down: [
          { num: 2, clue: 'The annual ritual, August edition, ITC', answer: 'OMSHANTOM', row: 0, col: 2 },
          { num: 3, clue: 'Third wheel, professional grade', answer: 'VEEKSHITH', row: 0, col: 6 },
          { num: 4, clue: 'â‚¹10 and a dream', answer: 'BREADPAKODA', row: 1, col: 4 },
          { num: 6, clue: 'First time screaming in a crowd, together, in the rain', answer: 'PENNMASALA', row: 2, col: 8 },
          { num: 8, clue: "It's a loser's choice, but I secretly love it", answer: 'MINTCHIP', row: 5, col: 0 },
          { num: 10, clue: 'Hum ne toh jab, kaliyan maangi', answer: 'PYAASA', row: 6, col: 5 },
        ],
      };

      const gridSize = 12;
      const [grid, setGrid] = useState({});
      const [solved, setSolved] = useState(false);
      const [showConfetti, setShowConfetti] = useState(false);

      const getCellKey = (r, c) => `${r}-${c}`;

      const cellMap = {};
      [...clues.across, ...clues.down].forEach(clue => {
        const isAcross = clues.across.includes(clue);
        for (let i = 0; i < clue.answer.length; i++) {
          const r = isAcross ? clue.row : clue.row + i;
          const c = isAcross ? clue.col + i : clue.col;
          const key = getCellKey(r, c);
          if (!cellMap[key]) cellMap[key] = { letter: clue.answer[i], num: i === 0 ? clue.num : null };
          else if (i === 0 && !cellMap[key].num) cellMap[key].num = clue.num;
        }
      });

      const handleInput = (r, c, val) => {
        const key = getCellKey(r, c);
        const newGrid = { ...grid, [key]: val.toUpperCase().slice(-1) };
        setGrid(newGrid);
        
        let allCorrect = true;
        Object.keys(cellMap).forEach(k => {
          if (newGrid[k] !== cellMap[k].letter) allCorrect = false;
        });
        if (allCorrect && Object.keys(newGrid).length >= Object.keys(cellMap).length * 0.9) {
          setSolved(true);
          setShowConfetti(true);
        }
      };

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 flex flex-col items-center p-4 overflow-auto">
          {showConfetti && <Confetti />}
          
          <h2 className="text-4xl font-bold mb-2 font-serif animate-fadeInUp">Crossword</h2>
          <p className="text-sm mb-6 text-gray-600 font-sans animate-fadeIn">All about Sujju âœ¨</p>

          <div className="flex flex-col lg:flex-row gap-8 items-start">
            <div 
              className="grid gap-px bg-black p-px animate-fadeIn" 
              style={{ gridTemplateColumns: `repeat(${gridSize}, 26px)` }}
            >
              {[...Array(gridSize)].map((_, r) =>
                [...Array(gridSize)].map((_, c) => {
                  const key = getCellKey(r, c);
                  const cell = cellMap[key];
                  if (!cell) return <div key={key} className="w-6 h-6 bg-gray-800" />;
                  const isCorrect = grid[key] === cell.letter;
                  return (
                    <div key={key} className={`w-6 h-6 bg-white relative transition-colors ${isCorrect ? 'bg-green-100' : ''}`}>
                      {cell.num && <span className="absolute top-0 left-0.5 text-xs leading-none">{cell.num}</span>}
                      <input
                        type="text"
                        maxLength={1}
                        value={grid[key] || ''}
                        onChange={(e) => handleInput(r, c, e.target.value)}
                        className={`w-full h-full text-center font-bold text-sm uppercase bg-transparent outline-none ${isCorrect ? 'text-green-700' : ''}`}
                        style={{caretColor: 'black'}}
                      />
                    </div>
                  );
                })
              )}
            </div>

            <div className="text-sm max-w-xs animate-slideInRight">
              <div className="mb-6">
                <p className="font-bold mb-2 text-lg">Across</p>
                {clues.across.map(c => (
                  <p key={c.num} className="mb-2 leading-snug">
                    <strong>{c.num}.</strong> {c.clue}
                  </p>
                ))}
              </div>
              <div>
                <p className="font-bold mb-2 text-lg">Down</p>
                {clues.down.map(c => (
                  <p key={c.num} className="mb-2 leading-snug">
                    <strong>{c.num}.</strong> {c.clue}
                  </p>
                ))}
              </div>
            </div>
          </div>

          {solved && (
            <div className="text-center mt-8 animate-fadeInUp">
              <p className="text-2xl mb-4 font-serif">ðŸŽ‰ Crossword Complete!</p>
              <button 
                onClick={onComplete} 
                className="shimmer-btn text-amber-50 px-6 py-2 font-sans rounded-sm hover:scale-105 transition-transform"
              >
                Continue â†’
              </button>
            </div>
          )}
          
          {!solved && (
            <button 
              onClick={onComplete} 
              className="mt-8 text-sm underline text-gray-500 hover:text-gray-700 transition"
            >
              Skip to letter â†’
            </button>
          )}
        </div>
      );
    };

    // Letter Page
    const LetterPage = () => {
      const [visibleParagraphs, setVisibleParagraphs] = useState(0);
      
      useEffect(() => {
        const timer = setInterval(() => {
          setVisibleParagraphs(v => {
            if (v >= 12) {
              clearInterval(timer);
              return v;
            }
            return v + 1;
          });
        }, 400);
        return () => clearInterval(timer);
      }, []);

      const paragraphs = [
        { text: "Srujana,", className: "font-bold text-xl" },
        { text: "Writing a letter for you is the most humiliating process. I cannot write like you do, I cannot express the way you can, I cannot process my thoughts into words that beautifully come together the way you manage to do so effortlessly. What can I do then except be intentional. So that's what this is. An intentional note that hopefully tells you how incomplete my life has been without you in it." },
        { text: "Papa, any big, important, life-changing moments that have ever happened, has always had you around ready for me like one warm blanket to hide inside when things feel too scary. And when I was thinking of suitable examples, the first memory that pops up is when on a rainy, shitty day in Bangalore, I came home to you right after therapy. I had spoken to Bandita about how someone in office told me, \"You always look like you're on the verge of tears\". This was just after someone asked me what my name was, and I barely managed to whisper \"Saranya\". I felt so ashamed of not even being able to say my name with confidence. And then I came home to you, and you were just wrapping up some work. I plopped myself on the sofa, looking for songs to play. But I could barely contain myself, I just wanted to cry. And then, you finished work and came out of the room in tears. I don't even remember what had happened, but all I wanted was to cry with you. Srujana, I have no bigger relief than in being able to cry with you. And then of course, say \"fine\" a million times not fully convinced anything is ever fine." },
        { text: "I keep wanting to be in two places at once. I can be in a new city, a new cafÃ©, surrounded by new people, doing all the right things and still, all I want is to be with you, at home, drinking shitty chai and not needing anything else (other than a cigarette, maybe)." },
        { text: "I once read an astronaut write about how when she was on Earth, she longed for space, and when she was finally there, she only wanted to come back home. That kind of longing made sense to me immediately. Desire is so strange bro, it convinces us to chase distance, until we realise what we were really tethered to." },
        { text: "Home, for me, was never a place. It has always been you papa. It's the ease of being with you, the quiet understanding, the way the world feels less demanding when we're together." },
        { text: "Now, in this cold, grey city of London, I walk around feeling slightly (very) misplaced, carrying this constant heaviness of wanting to return not to a city or a room, but to us. And while you may think that this is a stretch, I will see you in a week with receipts from endless texts to others about how earnestly I feel about this." },
        { text: "I came across this poem a while back, and when I sit to think of what I want to say to you, I thought this deserved a call back. It talks about carrying things long after we are told we should have outgrown them. A random girl who I thought was my best friend in school once told me \"you breath so loudly, it's very irritating\" and believe me when I say it, I have ever since been painfully aware of the way I breathe. Surviving doesn't always look brave, sometimes it just looks like getting through the day without hardening. I see that kind of survival in you. In the way you learned to keep going without losing your softness. In the way we still feel things deeply, even when it would be easier not to. And the best part is, you've always understood that about me - that I don't want to be made tougher, I just want to be made steady. With you, I don't have to pretend I've moved on from the parts of me that still annoy. I don't have to explain why certain days feel heavier, or why distance feels louder than it should. You've never asked me to be less sensitive, less emotional, less lonely. And that, more than anything, is why being away from you feels like carrying my heart outside my body." },
        { text: "Which is why, I firmly believe that we are in need or urgent fixing and I am just glad Harshita is getting married so I have an early excuse to come home. More than anything, there's a lightness in knowing that in a week, distance will stop being theoretical and start being reachable. That I'll get to sit across from you, steal your time, and let my nervous system remember what safety feels like. I can't wait to sing again with you; it will do a lot more fixing than anything else ever really can. So in ten days exactly, be ready to belt Aji Rooth Kar again, badly and unapologetically. Until then, happy birthday, Rachuri. Peace out." },
        { text: "Lots of love,\nShanpa", className: "mt-8 whitespace-pre-line" },
      ];

      return (
        <div className="min-h-screen bg-gradient-to-b from-amber-50 to-orange-50 p-6 md:p-12">
          <div className="max-w-2xl mx-auto">
            <div className="flex gap-4 justify-center mb-8">
              <div className="w-40 h-52 bg-gray-100 border-2 border-black overflow-hidden photo-frame animate-slideInLeft">
                <img src={IMAGES.letterOld} alt="2016" className="w-full h-full object-cover" style={{filter: 'grayscale(100%)'}} />
              </div>
              <div className="w-40 h-52 bg-gray-100 border-2 border-black overflow-hidden photo-frame animate-slideInRight">
                <img src={IMAGES.letterNew} alt="Now" className="w-full h-full object-cover" style={{filter: 'grayscale(100%)'}} />
              </div>
            </div>

            <div className="border-t-2 border-b-2 border-black py-8 font-serif">
              <h2 className="text-3xl font-bold mb-8 text-center animate-fadeIn">A Letter for You</h2>
              
              <div className="space-y-5 text-base leading-relaxed">
                {paragraphs.map((p, i) => (
                  <p 
                    key={i} 
                    className={`letter-paragraph ${p.className || ''}`}
                    style={{
                      animationDelay: `${i * 0.3}s`,
                      opacity: visibleParagraphs > i ? 1 : 0,
                    }}
                  >
                    {p.text}
                  </p>
                ))}
              </div>
            </div>
            
            <div className="text-center mt-10 animate-heartBeat" style={{animationDelay: '4s'}}>
              <p className="text-2xl font-serif">Happy Birthday, Sujju â™¡</p>
              <p className="text-sm mt-4 text-gray-500">Made with love from London</p>
            </div>
          </div>
        </div>
      );
    };

    // Main App
    function App() {
      const [screen, setScreen] = useState('landing');

      const screens = {
        landing: <LandingPage onStart={() => setScreen('wordle')} />,
        wordle: <Wordle onComplete={() => setScreen('photo1')} />,
        photo1: <PhotoPage imageKey="afterWordle" onContinue={() => setScreen('connections')} />,
        connections: <Connections onComplete={() => setScreen('photo2')} />,
        photo2: <PhotoPage imageKey="afterConnections" onContinue={() => setScreen('crossword')} />,
        crossword: <Crossword onComplete={() => setScreen('photo3')} />,
        photo3: <PhotoPage imageKey="afterCrossword" onContinue={() => setScreen('letter')} />,
        letter: <LetterPage />,
      };

      return <div className="bg-amber-50 min-h-screen">{screens[screen]}</div>;
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
